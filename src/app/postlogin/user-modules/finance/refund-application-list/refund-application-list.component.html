


<mat-card class="my-card mat-elevation-z8 dsp-cunsumerapplication">
    <mat-toolbar color="primary">
        <div style="width: 100%;" align="center">
            <div> Refund Application List</div>

        </div>
    </mat-toolbar>


    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSources"  matSort
            class="table table-bordered userlist_tables">

            <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> S.No </th>
                <td mat-cell *matCellDef="let row; let i=index" class="name-column"> 
                    <!-- {{(paginator?._pageIndex )}} -->
                    {{paginator?._pageSize * paginator?._pageIndex + i + 1}}

                </td>
            </ng-container>

            <ng-container matColumnDef="refundType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Refund Type </th>
                <td mat-cell *matCellDef="let row">
                     {{row?.refundType}} 
                    </td>
            </ng-container>

            <ng-container matColumnDef="refundAmount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Refund Amount</th>
                <td mat-cell *matCellDef="let row">
                     {{row?.refundAmount}} 
                    </td>
            </ng-container>

            <ng-container matColumnDef="consumerName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Applicant Name <br>(
                    आवेदक का नाम)</th>
                <td mat-cell *matCellDef="let row">
                     {{row?.consumerName}} 
                    </td>
            </ng-container>

            <ng-container matColumnDef="consumerApplicationNo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Application No </th>
                <td mat-cell *matCellDef="let row" class="name-column"> 
                    {{row?.consumerApplicationNo}} 
                </td>
            </ng-container>

            <ng-container matColumnDef="refundVoucherNo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Refund Voucher Number</th>
                <td mat-cell *matCellDef="let row">
                     {{row?.refundVoucherNo}} 
                    </td>
            </ng-container>

             <ng-container matColumnDef="requestedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Requested Date</th>
                <td mat-cell *matCellDef="let row">
                     {{row?.created | date:"dd-MM-yyyy" }} 
                    </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Status <br> (वर्तमान
                    स्थिति)</th>
                <td mat-cell *matCellDef="let row">
                    <button type="button" *ngIf="row?.financeApproval=='true'" class="btn btn-success">Compleated</button>
                    <button type="button" *ngIf="row?.financeApproval!='true'" class="btn btn-warning">Pending</button>
                    
                </td>
            </ng-container>

            <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit/View <br> परिवर्तन/देखे</th>
                <td mat-cell *matCellDef="let row">

                    <span *ngIf="row?.financeApproval!='true'">
                        <button
                        (click)="onRefundPaymentConfirmation(row)"
                            class="btn btn-sm btn-primary m-1 btnaction_custome">
                            Refund Request
                        </button>
                    </span>

                    <span *ngIf="row?.financeApproval=='true'">
                        <button
                        
                            class="btn btn-sm btn-success m-1 btnaction_custome">
                            Requested Successfully
                        </button>
                    </span>

                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
            </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[ 10, 25,50, 100,500,1000,5000]"
            aria-label="Select page of dummyList"></mat-paginator>
    </div>


</mat-card>