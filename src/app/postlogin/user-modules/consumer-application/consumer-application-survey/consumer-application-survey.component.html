<!-- <mat-card style="height: 500px; overflow: scroll;" class="my-card"> -->


<mat-card class="my-card custom-scroll-enable-1">
    <div align="right">
        <button class="close-btn" mat-stroked-button (click)="onClose()" tabIndex="-1">
            <mat-icon>clear</mat-icon>
        </button>
    </div>
    <mat-toolbar class="label label-warning justify-content-center" style="font-size: 2em; font-weight: 900;">
        <span>{{data.modalTitle}}</span>
    </mat-toolbar>


    <!-- <div align="center">
        <h1
            style="color: black; background-color:  rgb(215, 214, 214); font-weight: 900; width: 95%; margin-right: 2%;">
            Application Details(<b>{{consumerApplicationDetail?.consumerApplicationNo}}</b>)</h1>
    </div> -->


    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <table class="table table-bordered modern-ui-table">


            <!-- *********************************************************** consumer details start *************************************** -->
            <tr class="table-secondary">
                <th scope="col" colspan="4">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Consumer Details</div>
                </th>
            </tr>
            <tr>
                <th colspan="2" scope="row">Applicant Name (आवेदक का नाम) </th>
                <td colspan="2">{{consumerApplicationDetail?.consumerName}}</td>

            </tr>

            <tr>
                <th colspan="2" scope="row">पिता/पति का नाम </th>
                <td colspan="2">{{consumerApplicationDetail?.guardianName}}</td>

            </tr>

            <tr>
                <th colspan="2" scope="row">Address (पता) </th>
                <td colspan="2">{{consumerApplicationDetail?.address}}</td>

            </tr>
            <tr>
                <th colspan="2" scope="row">Contact</th>
                <td colspan="2">{{consumerApplicationDetail?.consumerphonNumber}}</td>

            </tr>



            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==3)">
                <th colspan="2" scope="row">भवन का प्रकार</th>
                <td colspan="2">{{consumerApplicationDetail?.colonyLegalSelectionType=="1"?"Multi":"colony individual
                    House"}}</td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==4)">
                <th colspan="2" scope="row">अवैध कॉलोनी प्रकार</th>
                <td colspan="2">{{consumerApplicationDetail?.colonyIllegalSelectionType=="1"?"Declared":"Un-Declared"}}
                </td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==1
              || consumerApplicationDetail?.natureOfWorkTypeId==2 || 
              consumerApplicationDetail?.natureOfWorkTypeId==3 || 
              consumerApplicationDetail?.natureOfWorkTypeId==4 || 
              consumerApplicationDetail?.natureOfWorkTypeId==5 || 
              consumerApplicationDetail?.natureOfWorkTypeId==6 || 
              consumerApplicationDetail?.natureOfWorkTypeId==7 ||
              consumerApplicationDetail?.natureOfWorkTypeId==9 || 
              consumerApplicationDetail?.natureOfWorkTypeId==10)">
                <th colspan="2" scope="row">आवेदक का प्रकार</th>
                <td colspan="2">{{consumerApplicationDetail?.avedakKaPrakar}}</td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==1 
             || consumerApplicationDetail?.natureOfWorkTypeId==2 || 
             consumerApplicationDetail?.natureOfWorkTypeId==3 || 
             consumerApplicationDetail?.natureOfWorkTypeId==4 || 
             consumerApplicationDetail?.natureOfWorkTypeId==5 || 
             consumerApplicationDetail?.natureOfWorkTypeId==6 || 
             consumerApplicationDetail?.natureOfWorkTypeId==7 || 
             consumerApplicationDetail?.natureOfWorkTypeId==9 || 
             consumerApplicationDetail?.natureOfWorkTypeId==10)">
                <th colspan="2" scope="row">आवेदक करने वाले विभाग/संस्था का नाम</th>
                <td colspan="2">{{consumerApplicationDetail?.avedakRemark}}</td>

            </tr>


            <!-- ********************************************* consumer Details end ************************************************* -->

            <!-- **************************************** Application Details start *************************************************** -->
            <tr class="table-secondary">
                <th scope="col" colspan="4">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Application Details</div>
                </th>
            </tr>
            <tr>
                <th colspan="2" scope="row">Application Number</th>
                <td colspan="2">{{consumerApplicationDetail?.consumerApplicationNo}}</td>

            </tr>
            <tr>
                <th colspan="2" scope="row">Nature of Work (कार्य प्रकार)(Application type)</th>
                <td colspan="2">{{consumerApplicationDetail?.natureOfWorkName}}</td>

            </tr>
            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==1 || 
            consumerApplicationDetail?.natureOfWorkTypeId==7)">
                <th colspan="2" scope="row">IVRSNO (उपभोक्ता संख्या)</th>
                <td colspan="2">{{consumerApplicationDetail?.ivrsNo}}</td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==1 || 
            consumerApplicationDetail?.natureOfWorkTypeId==7 || 
            consumerApplicationDetail?.natureOfWorkTypeId==9 || 
            consumerApplicationDetail?.natureOfWorkTypeId==10 || 
            consumerApplicationDetail?.natureOfWorkTypeId==2 || 
            consumerApplicationDetail?.natureOfWorkTypeId==3 || 
            consumerApplicationDetail?.natureOfWorkTypeId==4 || 
            consumerApplicationDetail?.natureOfWorkTypeId==5 || 
            consumerApplicationDetail?.natureOfWorkTypeId==6)">
                <th colspan="2" scope="row">Scheme Type (योजना का प्रकार)</th>
                <td colspan="2">{{consumerApplicationDetail?.schemeTypeName}}</td>

            </tr>




            <tr *ngIf="(consumerApplicationDetail?.nscApplicationNo!=null)">
                <th colspan="2" scope="row">SSP Application Number</th>
                <td colspan="2">{{consumerApplicationDetail?.nscApplicationNo}}</td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.samagraId!=null)">
                <th colspan="2" scope="row">Samagra Number (समग्र नंबर)</th>
                <td colspan="2">{{consumerApplicationDetail?.samagraId}}</td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==1 ||
              consumerApplicationDetail?.natureOfWorkTypeId==6)">
                <th colspan="2" scope="row">Supply Voltage (सप्लाई वोल्टेज)</th>
                <td colspan="2">{{supplyVoltageString}}</td>

            </tr>

             <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 || 
             consumerApplicationDetail?.natureOfWorkTypeId==9 || consumerApplicationDetail?.natureOfWorkTypeId==7)">
                <th colspan="2" scope="row">Voltage Level </th>
                <td colspan="2">{{consumerApplicationDetail?.voltageLevel}}</td>

            </tr>

             <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 || 
             consumerApplicationDetail?.natureOfWorkTypeId==9 || consumerApplicationDetail?.natureOfWorkTypeId==7)">
                <th colspan="2" scope="row">Connection Type</th>
                <td colspan="2">{{consumerApplicationDetail?.connectionType}}</td>

            </tr>
            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 ||
             consumerApplicationDetail?.natureOfWorkTypeId==7 || 
             consumerApplicationDetail?.natureOfWorkTypeId==9 || 
             consumerApplicationDetail?.natureOfWorkTypeId==10 || 
             consumerApplicationDetail?.natureOfWorkTypeId==3 || 
             consumerApplicationDetail?.natureOfWorkTypeId==4 || 
             consumerApplicationDetail?.natureOfWorkTypeId==5)">
                <th colspan="2" scope="row">Load Requested By Consumer (आवेदक द्वारा दर्ज किया गया भार)</th>
                <td colspan="2">
                     {{consumerApplicationDetail?.consumerLoadRequested}}<span>{{consumerApplicationDetail?.consumerLoadRequestedName}}
                    </span></td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 || 
             consumerApplicationDetail?.natureOfWorkTypeId==7 || 
             consumerApplicationDetail?.natureOfWorkTypeId==9 || 
             consumerApplicationDetail?.natureOfWorkTypeId==3 || 
             consumerApplicationDetail?.natureOfWorkTypeId==4 || 
             consumerApplicationDetail?.natureOfWorkTypeId==5)">
                <th colspan="2" scope="row">Load verified by DGM(O&M/HTM) (DGM द्वारा दर्ज किया गया भार)</th>
                <td colspan="2">
                    {{consumerApplicationDetail?.loadRequested}}<span>{{consumerApplicationDetail?.loadRequestedName}}
                    </span></td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 || 
            consumerApplicationDetail?.natureOfWorkTypeId==3 || 
            consumerApplicationDetail?.natureOfWorkTypeId==10 || 
            consumerApplicationDetail?.natureOfWorkTypeId==9 || 
            consumerApplicationDetail?.natureOfWorkTypeId==4 || 
            consumerApplicationDetail?.natureOfWorkTypeId==5)">
                <th colspan="2" scope="row">Land Area & Land area unit (भूमि क्षेत्रफल)</th>
                <td colspan="2"> {{consumerApplicationDetail?.area}}<span>
                        {{consumerApplicationDetail?.landAreaUnitName}}</span></td>

            </tr>

            <tr *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==3 || 
            consumerApplicationDetail?.natureOfWorkTypeId==4 || 
            consumerApplicationDetail?.natureOfWorkTypeId==10)">
                <th colspan="2" scope="row">No. of Plot/flats </th>
                <td colspan="2">{{consumerApplicationDetail?.noOfPlot}}</td>

            </tr>
            <tr>
                <th colspan="2" scope="row">GST Number</th>
                <td colspan="2">{{consumerApplicationDetail?.gstNumber}}</td>

            </tr>

            <tr>
                <th colspan="2" scope="row">PAN Number</th>
                <td colspan="2">{{consumerApplicationDetail?.panNo}}</td>

            </tr>

            <br>
            <tr
                *ngIf="(consumerApplicationDetail?.natureOfWorkTypeId==2 || 
            (consumerApplicationDetail?.natureOfWorkTypeId==4 && consumerApplicationDetail?.colonyIllegalSelectionType=='2')  )">
                <th colspan="2" scope="row">कॉलोनी आवेदक का प्रकार</th>
                <td colspan="2">{{consumerApplicationDetail?.individualOrGroupIdName}}</td>

            </tr>
            <tr>
                <th colspan="2" scope="row">Work Short Description (कार्य का संक्षिप्त विवरण)</th>
                <td colspan="2">{{consumerApplicationDetail?.shortDescriptionOfWork}}</td>

            </tr>



            <!-- *********************************************************** End Application Details ************************************************** -->

            <!-- connection-pradaai-for-ngb-details -->

            <tr class="table-secondary"
                *ngIf="consumerApplicationDetail?.natureOfWorkTypeId ==8 && consumerApplicationDetail?.applicationStatusId==33">
                <th scope="col" colspan="4">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Connection Granted Detail
                    </div>
                </th>
            </tr>



            <tr
                *ngIf="consumerApplicationDetail?.natureOfWorkTypeId ==8 && consumerApplicationDetail?.applicationStatusId==33">
                <th colspan="2" scope="row">Consumer Number (IVRS no)</th>
                <td colspan="2">{{ngbPunchingDetails?.ngbConsumerNo}}</td>

            </tr>

            <tr
                *ngIf="consumerApplicationDetail?.natureOfWorkTypeId ==8 && consumerApplicationDetail?.applicationStatusId==33">
                <th colspan="2" scope="row">DTR Name</th>
                <td colspan="2">{{ngbPunchingDetails?.dtrName}}</td>

            </tr>

            <tr
                *ngIf="consumerApplicationDetail?.natureOfWorkTypeId ==8 && consumerApplicationDetail?.applicationStatusId==33">
                <th colspan="2" scope="row">FEEDER Name</th>
                <td colspan="2">{{ngbPunchingDetails?.feederName}}</td>

            </tr>

            <!-- ///////////////////////////////////////////////                         -->



            <!-- ////////////////////////////////// complain Details  start////////////////////////////////////////// -->

            <tr class="table-secondary" *ngIf="complainList!=null || complainList!=undefined">
                <!-- <th scope="col">S.No.</th> -->
                <th scope="col" colspan="4">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Complain by Consumer
                    </div>
                </th>
            </tr>


            <tr *ngFor="let obj of complainList; let i=index;">
                <!-- <th scope="row" colspan="2">{{obj?.workIssueId}}</th> -->
                <th scope="row" colspan="2">{{i+1}}</th>

                <!-- <th colspan="1"  scope="row">Issue</th> -->
                <td colspan="2">{{obj?.feedback}}</td>
            </tr>



            <!-- ////////////////////////////////// complain Details  end////////////////////////////////////////// -->

            <!-- //////////////////////////////////////////// consumer Feedback start ////////////////////////////// -->
            <tr class="table-secondary" *ngIf="feedbackList!=null || feedbackList!=undefined">
                <!-- <th scope="col">S.No.</th> -->
                <th scope="col" colspan="4">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Feedback by Consumer
                    </div>
                </th>
            </tr>


            <tr *ngFor="let obj of feedbackList; let i=index;">
                <!-- <th scope="row" colspan="2">{{obj?.workIssueId}}</th> -->
                <th scope="row" colspan="2">{{i+1}}</th>

                <!-- <th colspan="1"  scope="row">Issue</th> -->
                <td colspan="2">{{obj?.feedback}}</td>
            </tr>

            <!-- //////////////////////////////////////////// consumer Feedback end ////////////////////////////// -->

            <tr class="table-secondary">
                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Contractor Details</div>
                </th>
                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Work Order Details & Work Completion
                        Details</div>
                </th>
            </tr>
            <tr>
                <th scope="row">Contractor Name (कॉन्ट्रैक्टर का नाम)</th>
                <!-- <td><b>{{paymentView?.NAME_OF_CONTRACTOR}},
                    </b>
                    [{{paymentView?.CONTRACTOR_ID}}] </td> -->
                <td><b *ngIf="paymentView?.NAME_OF_CONTRACTOR!=null">{{paymentView?.NAME_OF_CONTRACTOR}},
                    </b><b *ngIf="paymentView?.NAME_OF_CONTRACTOR==null">Contractor Not Selected </b>
                    <b *ngIf="paymentView?.CONTRACTOR_ID!=null">[{{paymentView?.CONTRACTOR_ID}}]</b>
                </td>

                <th scope="row">DGM STC APPROVAL DATE</th>
                <td>
                    <div *ngIf="consumerApplicationDetail?.dateOfDgmOandM!=null">
                        {{consumerApplicationDetail?.dateOfDgmOandM}}
                    </div>
                    <div *ngIf="consumerApplicationDetail?.dateOfDgmOandM==null">
                        Not Approved By DGM(STC)
                    </div>
                </td>

            </tr>

            <tr>
                <th scope="row">Vendor Name (कॉन्ट्रैक्टर का नाम)</th>
                <td>Madhya Pradesh
                    Madhya
                    Kshetra Vidyut
                    Vitaran Company Limited<strong>(MPMKVVCL)</strong> </td>

                <th scope="row">DGM (O&M) APPROVAL DATE</th>
                <td>
                    <div *ngIf="consumerApplicationDetail?.dateOfDgmOandM!=null">
                        {{consumerApplicationDetail?.dateOfDgmOandM}}
                    </div>
                    <div *ngIf="consumerApplicationDetail?.dateOfDgmOandM==null">
                        Not Approved By DGM(O&M)
                    </div>
                </td>

            </tr>
            <tr>
                <th rowspan="2" scope="row">Contractor State</th>
                <td rowspan="2">{{paymentView?.CONTRACTOR_STATE}}</td>
                <th scope="row">Work Order Date</th>
                <td>{{ (paymentView?.WORK_ORDER_DATE ? (paymentView?.WORK_ORDER_DATE | date:"dd-MM-yyyy") : "Work Order
                    Not Generated") }}</td>

            </tr>

            <tr>
                <th scope="row">Work Order No.</th>
                <td>{{paymentView?.WORK_ORDER_NO?paymentView?.WORK_ORDER_NO:"Work Order Not Generated"}}</td>

            </tr>


            <tr class="table-secondary">
                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Location Details</div>
                </th>
                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;">Payment Details</div>
                </th>

            </tr>
            <tr>
                <th scope="row">Circle (वृत)</th>
                <td> {{paymentView?.NAME_OF_CIRCLE}}</td>
                <th scope="row">Registration Payment Fees</th>
                <td>{{paymentView?.PAYMENT_AMOUNT}}</td>

            </tr>
            <tr>
                <th scope="row">Division (संभाग )</th>
                <td> {{paymentView?.NAME_OF_DIVISION}}</td>
                <th scope="row">Registration Payment Date</th>
                <td>{{paymentView?.DATE_OF_REGISTRATION }}</td>

            </tr>

            <tr>
                <th scope="row">Distribution Center (वितरण केन्द्र)</th>
                <td>{{paymentView?.NAME_OF_DC}}</td>
                <th scope="row">Demand Payment Fees</th>
                <td>{{paymentView?.SUPERVISION_PAYMENT_AMOUNT}}</td>

            </tr>
            <tr>
                <th rowspan="3" scope="row">Work Location Address (कार्य स्थल पता)</th>
                <td rowspan="3">
                    {{consumerApplicationDetail?.workAllocationAddress!=null?consumerApplicationDetail?.workAllocationAddress:consumerApplicationDetail?.address}}
                </td>
                <th scope="row">Demand Payment Date</th>
                <td>{{paymentView?.DATE_OF_SUPERVISION_PAYMENT }}</td>
            </tr>


            <tr>
                <th scope="row">Revise Payment Fees</th>
                <td></td>

            </tr>

            <tr>
                <th scope="row">Revise Payment Date</th>
                <td></td>

            </tr>



            <tr class="table-secondary">
                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;"> SURVEY Details</div>
                </th>

                <th scope="col" colspan="2">
                    <div align="center" style="font-weight: 900; font-size: 1.5em;"> Geo Location Data</div>
                </th>
            </tr>



            <tr>
                <th scope="row">Surveyor Name</th>
                <td>{{consumerSurveyData?.surveyorName}}</td>
                <th scope="row">Start Latitude (प्रारंभिक अक्षांश)</th>
                <td>{{geoLocationData?.startingLatitude}}</td>
            </tr>

            <tr>
                <th scope="row">Surveyor Mobile No.</th>
                <td>{{consumerSurveyData?.surveyorMobile}}</td>
                <th scope="row">End Latitude (अंतिम अक्षांश)</th>
                <td>{{geoLocationData?.startingLatitude}}</td>
            </tr>

            <tr>
                <th scope="row">Schedule Survey Date</th>
                <td>{{consumerSurveyData?.scheduleSurveyDate | date: 'dd/MM/yyyy'}}</td>
                <th scope="row">Start Longitude (प्रारंभिक देशांतर)</th>
                <td> {{geoLocationData?.startingLongitude}}</td>
            </tr>

            <tr>
                <th scope="row">Schedule Survey Time</th>
                <td>{{consumerSurveyData?.scheduleSurveyTime}}</td>
                <th scope="row">End Longitude (अंतिम देशांतर)</th>
                <td>{{geoLocationData?.startingLongitude}}</td>
            </tr>


            <tr>
                <th scope="row">Survey File</th>
                <td><a href="javascript:void(0)" (click)="getFile(consumerSurveyData?.docSurvey?.uploadId)">
                        <div *ngIf="consumerSurveyData?.docSurvey!=null">Download
                            File</div>
                    </a></td>

                <th scope="row">Start Geolocation Image</th>
                <td> <a *ngIf="geoLocationData?.startDoc?.uploadId != null " href="javascript:void(0)"
                        (click)="getFile(geoLocationData?.startDoc?.uploadId)">
                        Download
                        Image</a></td>
            </tr>

            <tr>
                <th scope="row">Survey status</th>
                <td>
                    <div
                        *ngIf="consumerApplicationDetail?.applicationStatusId<8 || consumerSurveyData==null || consumerSurveyData==undefined ">
                        Survey not done.
                    </div>
                    <div
                        *ngIf=" (consumerApplicationDetail?.applicationStatusId>7 && consumerSurveyData!=null) || (consumerApplicationDetail?.applicationStatusId>7 && consumerSurveyData!=undefined )">
                        Survey done.
                        <br>
                        <div *ngIf="consumerSurveyData?.surveyStatus == 'REJECTED'">
                            <b>REJECTED REASON: </b> <span>{{consumerSurveyData?.rejectedReason}}</span>
                        </div>
                    </div>
                </td>

                <th scope="row">End GeoLocation Image</th>
                <td> <a *ngIf="geoLocationData?.endDoc?.uploadId != null " href="javascript:void(0)"
                        (click)="getFile(geoLocationData?.endDoc?.uploadId)"> Download
                        Image</a></td>
            </tr>


        </table>

    <hr>
    <br>
    <!-- <div >
    
    <div align="center">
        <h1
            style="color: black; background-color:  rgb(215, 214, 214); font-weight: 900; width: 95%; margin-right: 2%;">
            Application Documents</h1>
    </div>

    <div class="row">
        <div class="col-md-6" *ngIf="applicationDocumentData?.docEstimate!=null">
            <b>Doc-Estimate File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocEstimateFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docAdministrative!=null">
            <b>Doc-Administrative File : </b><span class="padding"><button type="button"
                    class="btn btn-actionifo" (click)="getDownloaddocAdministrativeFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docNoc!=null">
            <b>Doc-Noc File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocNocFile()">Download</button>
            </span>
        </div>
        <div class="col-md-6" *ngIf="applicationDocumentData?.docRegistry!=null">
            <b>Doc-Registry File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocRegistryFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docReraPermission!=null">
            <b>Doc ReraPermission File : </b><span class="padding"><button type="button"
                    class="btn btn-actionifo" (click)="getDownloaddocReraPermissionFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docT$cpPermission!=null">
            <b>Doc-T&CP File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocT$cpPermissionFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docEnergyBillFile!=null">
            <b>Doc-EnergyBill File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocEnergyBillFile()">Download</button>
            </span>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docKhasraKhatoni!=null">
            <b>Doc-Registry File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocKhasraKhatoniFile()">Download</button>
            </span>
        </div>

       
        <div class="col-md-6" *ngIf="applicationDocumentData?.docGst!=null">
            <b>Doc-Gst File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocGstFile()">Download</button>
            </span>
        </div>

        <div *ngIf="applicationDocumentData?.docGroup!=null">
            <b>Doc-Group File : </b><span class="padding"><button type="button" class="btn btn-actionifo"
                    (click)="getDownloaddocGroupFile()">Download</button>
            </span>
        </div>

        <br>

    </div>
    <div class="text-danger" align="center" *ngIf="
applicationDocumentData?.docEstimate == null &&
applicationDocumentData?.docAdministrative == null &&
applicationDocumentData?.docNoc == null &&
applicationDocumentData?.docRegistry == null &&
applicationDocumentData?.docReraPermission == null &&
applicationDocumentData?.docT$cpPermission == null &&
applicationDocumentData?.docKhasraKhatoni == null  &&
applicationDocumentData?.docGst==null &&
applicationDocumentData?.docGroup==null
">
       
        -------- File Not Available---------
    </div>
    <br>



</div> -->

    <!-- ************************************************** -->
    <div style="background-color: rgb(215, 214, 214);">
        <br>
        <div style="font-weight: 900; font-size: 1.5em;" align="center">Application Documents </div>
        <br>
    </div>

    <br>

    <div class="row g-3">
        <div class="col-md-6" *ngIf="applicationDocumentData?.docEstimate">
            <div class="card p-3 shadow-sm">
                <b>Doc-Estimate File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocEstimateFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docAdministrative">
            <div class="card p-3 shadow-sm">
                <b>Doc-Administrative File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocAdministrativeFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docNoc">
            <div class="card p-3 shadow-sm">
                <b>Doc-Noc File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocNocFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docRegistry">
            <div class="card p-3 shadow-sm">
                <b>Doc-Registry File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocRegistryFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docReraPermission">
            <div class="card p-3 shadow-sm">
                <b>Doc ReraPermission File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocReraPermissionFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docT$cpPermission">
            <div class="card p-3 shadow-sm">
                <b>Doc-T&amp;CP File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocT$cpPermissionFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docEnergyBillFile">
            <div class="card p-3 shadow-sm">
                <b>Doc-EnergyBill File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocEnergyBillFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docKhasraKhatoni">
            <div class="card p-3 shadow-sm">
                <b>Khasra Khatoni File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocKhasraKhatoniFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docGst">
            <div class="card p-3 shadow-sm">
                <b>Doc-GST File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocGstFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docGroup">
            <div class="card p-3 shadow-sm">
                <b>Doc-Group File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocGroupFile()">Download</button>
            </div>
        </div>

        <div class="col-md-6" *ngIf="applicationDocumentData?.docSamagraFile">
            <div class="card p-3 shadow-sm">
                <b>Samagra File:</b>
                <button class="btn btn-success mt-2" (click)="getDownloaddocSamagraFile()">Download</button>
            </div>
        </div>

         <div class="col-md-6" *ngIf="applicationDocumentData?.docMap">
                <div class="card p-3 shadow-sm">
                    <b>Doc-Map File:</b>
                    <button class="btn btn-success mt-2" (click)="getDownloaddocMapFile()">Download</button>
                </div>
            </div>

             <div class="col-md-6" *ngIf="applicationDocumentData?.docLoadSheet">
                <div class="card p-3 shadow-sm">
                    <b>Doc-LoadSheet File:</b>
                    <button class="btn btn-success mt-2" (click)="getDownloaddocLoadSheetFile()">Download</button>
                </div>
            </div>
    </div>

    <!-- No File Available Message -->
    <div class="text-danger text-center mt-4" *ngIf="
  !applicationDocumentData?.docEstimate &&
  !applicationDocumentData?.docAdministrative &&
  !applicationDocumentData?.docNoc &&
  !applicationDocumentData?.docRegistry &&
  !applicationDocumentData?.docReraPermission &&
  !applicationDocumentData?.docT$cpPermission &&
  !applicationDocumentData?.docKhasraKhatoni &&
  !applicationDocumentData?.docEnergyBillFile &&
  !applicationDocumentData?.docGst &&
  !applicationDocumentData?.docGroup &&
  !applicationDocumentData?.docSamagraFile
">
        -------- File Not Available --------
    </div>

    <!-- ***************************************************** -->



    <br><br>
    <hr>

    
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->



    <!--for colony legal  -->
    <h5 *ngIf="ExtraaButtonValidationCheck==true" style="color: crimson;">Complete This process first</h5>
    <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 3 || consumerApplicationDetail?.natureOfWorkTypeId == 10">
        <div style="border: 1px black;">
           
            <form [formGroup]="LoadConfirmationForm">
                <div class="p-4">
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                                <input matInput type="number" formControlName="jeLoad" placeholder="भार दर्ज करें">
                            </mat-form-field>
                        </div>

                        <div class="col-md-4">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Select Load Unit (लोड इकाई)</mat-label>
                                <mat-select formControlName="jeLoadUnit">
                                    <mat-option value="KVA">KVA</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-md-4" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Material Quality</mat-label>
                                <mat-select formControlName="materialQuality">
                                    <mat-option value="0">Scrap Material</mat-option>
                                    <mat-option value="1" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">Good Material</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="mt-4">
                        <div class="row align-items-center">
                            <div class="col-md-8" *ngIf="consumerApplicationDetail?.natureOfWorkTypeId != 10">
                                <p style="margin-bottom: 0;">
                                    सत्यापित करें कि कॉलोनी का कुल भार 1500 केवीए या उससे कम है।
                                    कॉलोनी का कुल भार 1500 केवीए से अधिक होने पर सप्लाई अफ़्फोर्डिंग चार्जेज लागु नहीं
                                    होंगे।
                                </p>
                            </div>

                            <div class="col-md-2" *ngIf="consumerApplicationDetail?.natureOfWorkTypeId != 10">
                                <mat-radio-group formControlName="loadConfirmation" class="d-flex gap-3">
                                    <mat-radio-button value="YES">YES</mat-radio-button>
                                    <mat-radio-button value="NO">NO</mat-radio-button>
                                </mat-radio-group>
                            </div>

                            <div class="col-md-2 text-end">
                                <button type="button" mat-raised-button color="primary"
                                    [disabled]="loadConfirmationBoolean" (click)="OnLoadSubmit()">
                                    Submit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <br>
        </div>
    </div>




    <!-- //////////////////////////////// for line-shiftng (govt)  and line-shifting(non-govt)  *******start******  /////////////////////////// -->


    <!-- <h5 *ngIf="ReturnAmtBooleanOpen==true" style="color: crimson;">Complete This process first</h5>
    <div
        *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==1 || consumerApplicationDetail?.natureOfWorkTypeId==2 || consumerApplicationDetail?.natureOfWorkTypeId==6 || consumerApplicationDetail?.natureOfWorkTypeId==7">
        <div style="border: 1px black;padding: 1vh;  width: 80%; display: flex; justify-content: space-between; ">
            <div></div>
            <div>
                <form [formGroup]="LineShiftingReturnAmountForm">
                    <div class="row">
                        <div class="form-group col-md-9">
                            <label class="form-label">अगर प्राकलन में वापसी योग्य राशि है तो कृपया राशि दर्ज करे</label>
                            <input type="number" style="width: 100%;" class="form-control" inputmode="numeric" min="0"
                                id="returnAmount" (keydown)="checkValue($event)" formControlName="returnAmt">
                           
                        </div>
                        <div class="col-md-3">
                            <button type="button" class="btn btn-primary" style="margin-top: 2.5em;"
                                [disabled]="LineShiftingReturnAmountFormBoolean==true?true:false"
                                (click)="onSubmitLineShiftingReturnAmountForm()">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
            <div></div>
        </div>
    </div> -->

    <!-- //////////////////////////////// for line-shiftng (govt)  and line-shifting(non-govt)    *******end*******     /////////////////////////// -->



    <!-- //////////////////////////////////////////////////////////for nsc or Load enhancement or oyt ///////////////////////////////////////////////////////******************* -->

    <div *ngIf="ShowingErrorValForOtherButtonsCheckForNsc==true" style="color: crimson; font-size: bold;">Complete This
        process first</div>
    <div
        *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==9 || consumerApplicationDetail?.natureOfWorkTypeId==2 || consumerApplicationDetail?.natureOfWorkTypeId==7 || consumerApplicationDetail?.natureOfWorkTypeId==5">
        <!--*ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 4" -->
        <div style="border: 1px black;  width: 80%;">

            <!-- <form [formGroup]="nscLoadEnhancementOytForm">
                <div class="row g-3 p-3">

                    <div class="col-md-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                            <input matInput type="number" formControlName="loadConfirmationForNsc"
                                placeholder="भार दर्ज करें">
                        </mat-form-field>
                    </div>

                    <div class="col-md-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>लोड इकाई (Select Load Unit)</mat-label>
                            <mat-select formControlName="jeLoadUnitNew">
                                <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 2 
                    || consumerApplicationDetail?.natureOfWorkTypeId == 7 
                    || consumerApplicationDetail?.natureOfWorkTypeId == 9" value="KVA">
                                    KVA
                                </mat-option>
                                <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 2 
                    || consumerApplicationDetail?.natureOfWorkTypeId == 7 
                    || consumerApplicationDetail?.natureOfWorkTypeId == 9" value="KW">
                                    KW
                                </mat-option>
                                <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 5" value="HP">
                                    HP
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-md-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>Material Quality</mat-label>
                            <mat-select formControlName="materialQuality">
                                <mat-option value="0">Scrap Material</mat-option>
                                <mat-option value="1">Good Material</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-md-3 d-flex align-items-end">
                        <button mat-raised-button color="primary" class="w-100" [disabled]="NscSubmitBoolean"
                            (click)="OnLoadForNscSubmit()">
                            Submit
                        </button>
                    </div>

                </div>
            </form> -->
<mat-card class="mx-auto my-3 p-3 shadow-sm" style="max-width: 90%; border-radius: 12px;">

  <form [formGroup]="nscLoadEnhancementOytForm">
    <div class="row g-3">

      <!-- Verified Load Input -->
      <div class="col-md-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
          <input matInput type="number" formControlName="loadConfirmationForNsc" placeholder="भार दर्ज करें">
        </mat-form-field>
      </div>

      <!-- Load Unit Selection -->
      <div class="col-md-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>लोड इकाई (Select Load Unit)</mat-label>
          <mat-select formControlName="jeLoadUnitNew">
            <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 2 
                            || consumerApplicationDetail?.natureOfWorkTypeId == 7 
                            || consumerApplicationDetail?.natureOfWorkTypeId == 9" value="KVA">KVA</mat-option>
            <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 2 
                            || consumerApplicationDetail?.natureOfWorkTypeId == 7 
                            || consumerApplicationDetail?.natureOfWorkTypeId == 9" value="KW">KW</mat-option>
            <mat-option *ngIf="consumerApplicationDetail?.natureOfWorkTypeId == 5" value="HP">HP</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Material Quality -->
      <div class="col-md-3" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Material Quality</mat-label>
          <mat-select formControlName="materialQuality">
            <mat-option value="0">Scrap Material</mat-option>
            <mat-option value="1" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">Good Material</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Submit Button -->
      <div class="col-md-3 ">
        <button mat-raised-button color="primary" class="w-100 "
                [disabled]="NscSubmitBoolean"
                (click)="OnLoadForNscSubmit()">
          Submit
        </button>
      </div>

    </div>
  </form>

</mat-card>

            <br>
        </div>

        <br>

        <div class="col-md-12" *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==5">

            <form [formGroup]="oytFormArrayForm">
                <div class="row">
                    <div class="col-md-4 form-group">

                        <label class="form-label">आवेदन का प्रकार का चयन करें <span class="required">*</span></label>
                        <select formControlName="individualOrGroupIdName" class="form-control"
                            (change)="onSelectgroupOrIndividual($event)">
                            <option>--आवेदन का प्रकार--</option>
                            <option *ngFor="let data of displayInputFieldArray" [Value]="data">{{data.name}}</option>
                        </select>

                    </div>


                    <div class="col-md-4 form-group" *ngIf="oytGrouporIndividualSelectVariable=='Group'">
                        <label class="form-label">Enter number</label>
                        <input class="form-control" formControlName="count">
                    </div>


                    <div class="col-md-4 form-group" *ngIf="oytGrouporIndividualSelectVariable=='Group'">
                        <button type="button" class="btn btn-success mt-4" (click)="onGenerate()">Generate</button>
                    </div>
                </div>

            </form>

            <div class="form-group" *ngIf="displayInputOyt==true && oytGrouporIndividualSelectVariable=='Group'">
                <form [formGroup]="empOytForm">
                    <div formArrayName="employeesOyt">
                        <div *ngFor="let employee of employeesOyt.controls; let samIndex=index;"
                            [formGroupName]='samIndex'>
                            <table class="table w-100 pens_additem">
                                <tr>
                                    <td class="w-5">
                                        {{samIndex+1}}.
                                    </td>
                                    <td class="w-30">
                                        <div class="form-group">
                                            <label class="lable-text">
                                                समग्र :
                                            </label>
                                            <div class="input-group customes-ingroups">
                                                <input type="text" formControlName="samagraId" class="form-control" />

                                                <span class="input-group-addon">
                                                    <button type="submit" class="btn btn-success"
                                                        (click)="getSamagraDetails($event,samIndex)">Go</button>

                                                </span>
                                            </div>
                                            <div *ngIf="employee['controls'].samagra?.errors?.required"
                                                style="color: red;font-size: medium;">
                                                Samagra is Required
                                            </div>
                                        </div>
                                    </td>
                                    <td class="w-30">
                                        <div class="form-group">
                                            <label class="lable-text">
                                                आवेदक का नाम :
                                            </label>
                                            <input type="text" formControlName="consumerName" class="form-control"
                                                [readonly]="true" />
                                        </div>
                                        <div *ngIf="employee['controls'].consumerName?.errors?.required"
                                            style="color: red;font-size: medium;">
                                            Name is Required
                                        </div>
                                    </td>

                                    <td class="w-30">
                                        <div class="form-group">
                                            <label class="lable-text">
                                                पिता का नाम :
                                            </label>
                                            <input type="text" formControlName="guardianName" class="form-control" />
                                        </div>
                                        <div *ngIf="employee['controls'].guardianName?.errors?.required"
                                            style="color: red;font-size: medium;">
                                            FatherName is Required
                                        </div>
                                    </td>
                                    <td class="w-30">
                                        <div class="form-group">
                                            <label class="lable-text">
                                                खसरा :
                                            </label>
                                            <input type="text" formControlName="khasraNo" class="form-control" />
                                        </div>
                                        <div *ngIf="employee['controls'].khasraNo?.errors?.required"
                                            style="color: red;font-size: medium;">
                                            khasra is Required
                                        </div>
                                    </td>

                                    <td class="w-30">
                                        <div class="form-group">
                                            <label class="lable-text">
                                                लोड(भार):
                                            </label>
                                            <input type="text" formControlName="loadRequested" class="form-control" />
                                        </div>
                                        <div *ngIf="employee['controls'].loadRequested?.errors?.required"
                                            style="color: red;font-size: medium;">
                                            load is Required
                                        </div>
                                    </td>

                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">सह आवेदकों से संबंधित हस्ताक्षरीकृत घोषणा और खसरा खतौनी दस्तावेज<span
                                class="text-danger">*</span></label>
                        <input type="file" class="form-control" (change)="GroupPeopleCommonFile($event)">
                    </div>

                    <div class="form-group"
                        *ngIf="displayInputOyt==true && oytGrouporIndividualSelectVariable=='Group'">
                        <button type="button" class="btn btn-primary" (click)="submitgroup()"
                            [disabled]="groupSubmitBoolean==true?true:false">submit
                            Group</button>
                    </div>
                </form>
            </div>


        </div>
    </div>



    <!-- /////////////////////////////////////////////////////////////////////////////////////////////////////////////////******************* -->


    <!-- /////////////////////////////////////////////////////////////////////////////////survey for mkmy start////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div style="color: crimson; font-size: bold;" *ngIf="displayinputfieldForMkmy">सर्वप्रथम प्रक्रिया का निष्पादन करे
    </div>
    <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==8">



        <br>

        <div class="col-md-12" *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==8 ">

            <form [formGroup]="selectFormForMkmy" (ngSubmit)="generateBlocksForMkmyFormArray()">
                <div class="row">

                    <div class="col-md-4">
                        <label class="form-label" style="font-size: 1.1em; font-weight: 700;">आवेदन का प्रकार का चयन
                            करें <span class="text-danger">*</span> </label>
                        <select class="form-control" formControlName="individualOrGroupId" placeholder="--आवेदन का प्रकार का चयन
                        करें--" (change)=" displayInputFieldForMkmy($event)">
                            <option *ngFor="let data of displayInputFieldArray" [value]="data.id">{{data.name}}</option>
                        </select>
                        <span class="text-danger"
                            *ngIf="(selectFormForMkmy['controls'].individualOrGroupId.touched || submittedGenerateBlock) && selectFormForMkmy['controls'].individualOrGroupId.errors?.required">
                            कृपया आवेदन का प्रकार का चयन करें
                        </span>
                    </div>

                    <br>

                    <div class="col-md-4" *ngIf="displayInputMkmy && !closeWrittenDiv">
                        <label style="font-size: 1.1em; font-weight: 700;" class="form-label">मुख्य आवेदक के अतरिक्त
                            आवेदकों की
                            संख्या (अधिकतम १०)</label>
                        <input type="number" class="form-control" formControlName="numberofgroup"
                            placeholder="Enter number">

                        <span class="text-danger"
                            *ngIf="(selectFormForMkmy['controls'].numberofgroup.touched || submittedGenerateBlock) && selectFormForMkmy['controls'].numberofgroup.errors?.required">
                            कृपया आवेदकों की संख्या दर्ज करे
                        </span>
                    </div>



                    <div class="col-sm-4" *ngIf="displayInputMkmy && !closeWrittenDiv">
                        <button type="submit" style="margin-top: 1.8em;" class="btn btn-info ">Generate</button>

                    </div>


                </div>

                <br>
                <br>

                <div *ngIf="(individualOrGroupIdVariable==1 || individualOrGroupIdVariable==2) ">

                    <form [formGroup]="MkmyUpdateForm">

                        <div class="row">

                            <div class="form-group col-md-4">
                                <label class="form-label">Address</label>
                                <input type="text" class="form-control" formControlName="address">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].address?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    address is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Guardian Name</label>
                                <input type="text" class="form-control" formControlName="guardianName">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].guardianName?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    guardianName is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Aadhar Number</label>
                                <input type="number" id="aadharNumber" class="form-control" maxlength="12"
                                    formControlName="aadharNo">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].aadharNo?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    aadharNo is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Pincode</label>
                                <input type="number" class="form-control" formControlName="pinCode">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].pinCode?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    pinCode is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Khasra</label>
                                <input type="text" class="form-control" formControlName="khasra">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].khasra?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    khasra is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Area</label>
                                <input type="text" class="form-control" formControlName="area">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].area?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    area is Required </div>
                            </div>

                            <div class="form-group col-md-4"
                                *ngIf="mkmyApplicationDetails.districtId==null || mkmyApplicationDetails.dcId==null">
                                <mat-form-field class="half-width padding">
                                    <mat-label>जिला<span class="required">*</span></mat-label>
                                    <mat-select formControlName="districtId"
                                        (selectionChange)="onChangeSelectedDistrictType($event)">
                                        <mat-option value="">--जिला चुने--</mat-option>
                                        <mat-option *ngFor="let district of districtResponseArray"
                                            [value]="district.districtId">
                                            {{district.districtName}}</mat-option>
                                    </mat-select>
                                    <div *ngIf="submitted && MkmyUpdateForm['controls'].districtId?.errors?.required"
                                        style="color: red;font-size: medium;">
                                        districtId is Required </div>
                                </mat-form-field>
                            </div>

                            <div class="form-group col-md-4"
                                *ngIf="mkmyApplicationDetails.dcId==null || mkmyApplicationDetails.districtId==null">
                                <mat-form-field class="half-width padding">
                                    <mat-label>वितरण केन्द्र <span class="required">*</span></mat-label>
                                    <mat-select formControlName="dcId" (selectionChange)="onChangeDc($event)">
                                        <mat-option value="">--वितरण केन्द्र चुने--</mat-option>
                                        <mat-option *ngFor="let dList of dcResponseArray" [value]="dList.dcId">
                                            {{dList.dcName}}</mat-option>
                                    </mat-select>
                                    <div *ngIf="submitted && MkmyUpdateForm['controls'].dcId?.errors?.required"
                                        style="color: red;font-size: medium;">
                                        dcId is Required </div>
                                </mat-form-field>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Load</label>
                                <input type="number" class="form-control" formControlName="loadRequested">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].loadRequested?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    loadRequested is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Load Unit</label>
                                <input type="text" class="form-control" formControlName="loadRequestedId"
                                    [readonly]="true">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].loadRequestedId?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    loadRequestedId is Required </div>
                            </div>

                            <div class="form-group col-md-4" *ngIf="!castValue">
                                <label class="form-label">Caste Category</label>
                                <input type="text" class="form-control" formControlName="castCategory"
                                    [readonly]="true">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].castCategory?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    castCategory is Required </div>
                            </div>

                            <div class="col-md-4" *ngIf="castValue">
                                <mat-form-field class="half-width padding">
                                    <mat-label>उपभोक्ता श्रेणी चुने<span class="required">*</span></mat-label>
                                    <mat-select formControlName="casteCategory">
                                        <mat-option value="">उपभोक्ता श्रेणी चुने</mat-option>
                                        <mat-option *ngFor="let cast of casttList" [value]="cast.name">
                                            {{cast.name}}</mat-option>
                                    </mat-select>

                                </mat-form-field>
                            </div>


                            <div class="form-group col-md-4">
                                <label class="form-label">Samagra Number</label>
                                <input type="text" class="form-control" formControlName="samagraId">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].samagraId?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    samagraId is Required </div>
                            </div>




                            <div class="form-group col-md-4">
                                <label class="form-label">Nature of work</label>
                                <input type="text" class="form-control" formControlName="natureOfWork"
                                    [readonly]="true">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].natureOfWork?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    natureOfWork is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Consumer Name</label>
                                <input type="text" class="form-control" formControlName="consumerName"
                                    [readonly]="true">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].consumerName?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    consumerName is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Short Description</label>
                                <input type="text" class="form-control" formControlName="shortDescription">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].shortDescription?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    Short Description is Required </div>
                            </div>

                            <div class="form-group col-md-4">
                                <label class="form-label">Mobile Number</label>
                                <input type="text" class="form-control" formControlName="phoneNumber">
                                <div *ngIf="submitted && MkmyUpdateForm['controls'].phoneNumber?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    phoneNumber is Required </div>
                            </div>
                            <br>

                            <form [formGroup]="mkmyIndivForm" *ngIf=" individualOrGroupIdVariable==1">
                                <h3 style="color: red;">*** Note *** : वर्तमान में 11 KV लाइन में 200 मीटर की बाध्यता
                                    है। आपसे
                                    अनुरोध है कि कृप्या 11 KV लाइन में 200 मीटर या उससे कम मात्रा ही दर्ज करें।</h3>

                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="form-label">11Kv लाइन की दूरी</label>
                                        <input class="form-control" formControlName="KvDistance">
                                        <div *ngIf="mkmyIndivForm['controls'].KvDistance?.errors?.required"
                                            style="color: red;font-size: medium;">
                                            11KvDistance is Required
                                        </div>
                                        <div style="color: black;font-size: medium;">Distance must
                                            be less than or equal to 200m</div>
                                    </div>



                                    <div class="col-md-4">
                                        <mat-form-field>
                                            <mat-label>Cutpoint लिया गया <span class="required">*</span></mat-label>
                                            <mat-select formControlName="cutpoint">
                                                <mat-option value="YES">YES</mat-option>
                                                <mat-option value="NO">NO</mat-option>
                                            </mat-select>
                                            <div *ngIf="mkmyIndivForm['controls'].cutpoint?.errors?.required"
                                                style="color: red;font-size: medium;">
                                                Cutpoint is Required
                                            </div>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-md-4">
                                        <mat-form-field>
                                            <mat-label>DTR क्षमता <span class="required">*</span></mat-label>
                                            <mat-select formControlName="dtr">
                                                <mat-option value="63">63</mat-option>
                                                <mat-option value="25">25</mat-option>
                                            </mat-select>
                                            <div *ngIf="mkmyIndivForm['controls'].dtr?.errors?.required"
                                                style="color: red;font-size: medium;">
                                                DTR is Required
                                            </div>
                                        </mat-form-field>
                                    </div>


                                </div>
                            </form>
                            <br>
                            <br>
                            <div class="mt-5">
                                <button type="button" class="btn btn-primary"
                                    [disabled]="checkUpdateBoolean==true?true:false"
                                    (click)="parentDetailsSubmit()">Submit</button>
                            </div>

                        </div>

                    </form>

                </div>
            </form>

            <br>
            <br>

            <div *ngIf="displayinputfieldForMkmy && !closeWrittenDiv">


                <div class="form-group">
                    <form [formGroup]="empFormForMkmy">

                        <h3 style="color: red;">*** Note *** : वर्तमान में 11 KV लाइन में 200 मीटर की बाध्यता है। आपसे
                            अनुरोध है कि कृप्या 11 KV लाइन में 200 मीटर या उससे कम मात्रा ही दर्ज करें।</h3>

                        <div class="row">

                            <div class="col-md-4">
                                <label class="form-label">11Kv लाइन की दूरी</label>
                                <input class="form-control" formControlName="KvDistance">
                                <div *ngIf="empFormForMkmy['controls'].KvDistance?.errors?.required"
                                    style="color: red;font-size: medium;">
                                    11KvDistance is Required
                                </div>
                                <div *ngIf="distanceBoolean==true" style="color: red;font-size: medium;">Distance must
                                    be less than or equal to 200m</div>
                            </div>



                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-label>Cutpoint लिया गया <span class="required">*</span></mat-label>
                                    <mat-select formControlName="cutpoint">
                                        <mat-option value="YES">YES</mat-option>
                                        <mat-option value="NO">NO</mat-option>
                                    </mat-select>
                                    <div *ngIf="empFormForMkmy['controls'].cutpoint?.errors?.required"
                                        style="color: red;font-size: medium;">
                                        Cutpoint is Required
                                    </div>
                                </mat-form-field>
                            </div>

                            <div class="col-md-4">
                                <mat-form-field>
                                    <mat-label>DTR क्षमता <span class="required">*</span></mat-label>
                                    <mat-select formControlName="dtr">
                                        <mat-option value="63">63</mat-option>
                                        <mat-option value="25">25</mat-option>
                                    </mat-select>
                                    <div *ngIf="empFormForMkmy['controls'].dtr?.errors?.required"
                                        style="color: red;font-size: medium;">
                                        DTR is Required
                                    </div>
                                </mat-form-field>
                            </div>


                        </div>
                        <div formArrayName="employeesForMkmy">
                            <div *ngFor="let employee of employeesForMkmy().controls; let samIndex=index">
                                <table class="table w-100 pens_additem" [formGroupName]="samIndex">
                                    <tr>
                                        <td class="w-5">
                                            {{samIndex+1}}.
                                        </td>
                                        <td class="w-30">
                                            <div class="form-group">
                                                <label class="lable-text">
                                                    आवेदन क्रमांक :
                                                </label>
                                                <div class="input-group customes-ingroups">
                                                    <input type="text" formControlName="childApplicationNumber"
                                                        class="form-control" />
                                                    <span class="input-group-addon">
                                                        <button type="submit" class="btn btn-success"
                                                            (click)="getApplicationDetailsByApplicationIdForMkmy($event,samIndex)">Go</button>
                                                    </span>
                                                </div>
                                                <div *ngIf="employee['controls'].childApplicationNumber?.errors?.required && FormArrayBooleanVariableOfMkmy"
                                                    style="color: red;font-size: medium;">
                                                    Application Number is Required
                                                </div>
                                            </div>
                                        </td>


                                        <td class="w-30">
                                            <div class="form-group">
                                                <label class="lable-text">
                                                    आवेदक का नाम :
                                                </label>
                                                <input type="text" formControlName="consumerName" class="form-control"
                                                    [readonly]="true" />
                                            </div>
                                            <div *ngIf="employee['controls'].consumerName?.errors?.required && FormArrayBooleanVariableOfMkmy"
                                                style="color: red;font-size: medium;">
                                                Name is Required
                                            </div>
                                        </td>

                                        <td class="w-30">
                                            <div class="form-group">
                                                <label class="lable-text">
                                                    पिता का नाम :
                                                </label>
                                                <input type="text" formControlName="guardianName" class="form-control"
                                                    [readonly]="true" />
                                            </div>
                                            <div *ngIf="employee['controls'].guardianName?.errors?.required && FormArrayBooleanVariableOfMkmy"
                                                style="color: red;font-size: medium;">
                                                FatherName is Required
                                            </div>
                                        </td>
                                        <td class="w-30">
                                            <div class="form-group">
                                                <label class="lable-text">
                                                    लोड(भार):
                                                </label>
                                                <input type="text" formControlName="load" class="form-control" />
                                            </div>
                                            <div *ngIf="employee['controls'].load?.errors?.required && FormArrayBooleanVariableOfMkmy"
                                                style="color: red;font-size: medium;">
                                                load is Required
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="displayInputMkmy">
                            <button type="button" class="btn btn-primary" (click)="submitgroupforMkmy()">आवेदन दर्ज करे
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div style="border: 1px black;  width: 80%;"
            *ngIf="(closeWrittenDiv==true && mkmySubmitBoolean==false) || individualOrGroupIdVariable==1">
            <!-- <form [formGroup]="mkmySurveyForm">

                <div class="row">

                    <div class="col-md-3">

                    </div>


                    <div class="col-md-3">
                        <div>
                            <label class="form-label">उपमहाप्रबंधक द्वारा सत्यापित <br>किया जाने वाला भार</label>
                            <br>
                            <input class="form-control" type="number" formControlName="loadConfirmationForMkmy"
                                [readonly]="true">
                        </div>
                    </div>


                    <div class="col-md-3">
                        <label>Select Load Unit</label>
                        <input type="text" formControlName="jeLoadUnitNew" class="form-control" [readonly]="true" />
                    </div>

                   

                    <div class="col-md-3 form-group">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>Material Quality</mat-label>
                            <mat-select formControlName="materialQuality">
                                <mat-option [value]="'0'">Scrap Material</mat-option>
                                <mat-option [value]="'1'">Good Material</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>



                    <div class="col-md-3">
                        <button type="button" class="btn btn-primary" [disabled]="mkmySubmitBoolean==true?true:false"
                            style="margin-top: 2.5em;" (click)="OnLoadForMkmySubmit()">Submit</button>
                    </div>



                </div>

               

            </form> -->
            <form [formGroup]="mkmySurveyForm">
                <div class="row g-3 p-3">

                    <!-- Verified Load (readonly) -->
                    <div class="col-md-3 offset-md-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                            <input matInput type="number" formControlName="loadConfirmationForMkmy" [readonly]="true">
                        </mat-form-field>
                    </div>

                    <!-- Load Unit (readonly) -->
                    <div class="col-md-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>लोड इकाई (Load Unit)</mat-label>
                            <input matInput formControlName="jeLoadUnitNew" [readonly]="true">
                        </mat-form-field>
                    </div>

                    <!-- Material Quality -->
                    <div class="col-md-3" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>Material Quality</mat-label>
                            <mat-select formControlName="materialQuality">
                                <mat-option value="0">Scrap Material</mat-option>
                                <mat-option value="1" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">Good Material</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <!-- Submit Button -->
                    <div class="col-md-3 d-flex align-items-end">
                        <button mat-raised-button color="primary" class="w-100" [disabled]="mkmySubmitBoolean"
                            (click)="OnLoadForMkmySubmit()">
                            Submit
                        </button>
                    </div>

                </div>
            </form>

            <br>
        </div>
    </div>

    <!-- /////////////////////////////////////////////////////////////////////////////////survey for mkmy end////////////////////////////////////////////////////////////////////////////////////////////////////// -->



    <!-- for colony illegal -->
    <h5 *ngIf="ShowingErrorValForOtherButtonsCheck==true" style="color: crimson;">Complete This process first</h5>
    <!-- <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==4">
       
        <div style="border: 1px black;  width: 80%;">
            <form [formGroup]="LoadConfirmationForColonyIllegalForm">

                <div style="display: flex; padding: 2em;">
                    <div style="display: flex; justify-content: flex-start;">
                        <div style="margin-top: 3em;">
                            <label>सत्यापित करे कि कॉलोनी का कुल भार 400 KW या उससे कम है |कॉलोनी का कुल भार दर्ज
                                करे।</label>
                        </div>

                        <div style=" text-align: center; align-items: center;margin-top:4%">
                            <mat-radio-group formControlName="loadConfirmation">
                                <mat-radio-button class="mx-2" value="YES">YES</mat-radio-button>
                                <mat-radio-button value="NO">NO</mat-radio-button>
                            </mat-radio-group>

                        </div>

                        <div class="mx-2 ">
                          

                            <div style="display: flex; padding: 2em;">
                                <div>
                                    <mat-form-field>
                                        <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                                        <input matInput type="number"
                                            formControlName="loadConfirmationForColonyIllegal">
                                    </mat-form-field>
                                </div> <br>
                                <div>
                                    <mat-form-field>
                                        <mat-label>Select Load Unit</mat-label>
                                        <mat-select formControlName="jeLoadUnitNew">
                                           
                                            <mat-option value="KW">KW</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary" style="margin-top: 2.5em;"
                                (click)="OnLoadForColonyIllegalSubmit()">Submit</button>
                        </div>
                    </div>
                </div>

            </form>
            <br>
        </div>
    </div> -->
    <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==4">

        <div style="border: 1px black;  width: 80%;">
            <!-- <form [formGroup]="LoadConfirmationForColonyIllegalForm">

                <div style="display: flex; padding: 2em;">
                    <div style="display: flex; justify-content: flex-start;">
                       

                        <div class="mx-2 ">


                            <div style="display: flex; padding: 2em;">
                                <div>
                                    <mat-form-field>
                                        <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                                        <input matInput type="number"
                                            formControlName="loadConfirmationForColonyIllegal">
                                    </mat-form-field>
                                    <mat-error
                                        *ngIf="(LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].touched || isFormSubmitForColonyIllegal) && LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].errors ">
                                        <div
                                            *ngIf="LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].errors['required']">
                                            लोड(भार) अनुमति(digit only)</div>

                                        <div
                                            *ngIf="LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal']?.status=='INVALID'">
                                            Invalid लोड(भार) अनुमति <div
                                                *ngIf="LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal']?.status=='INVALID' && consumerApplicationDetail?.individualOrGroupId == 1">
                                                (Load should must be less
                                                <br> or equal to 400 and always
                                                <br> be greater than 0)
                                            </div>
                                        </div>

                                    </mat-error>
                                </div> <br>

                                <div>
                                    <mat-form-field>
                                        <mat-label>Select Load Unit</mat-label>
                                        <input matInput type="text" formControlName="jeLoadUnitNew" [readonly]="true">
                                    </mat-form-field>
                                </div>

                               

                                <div class="col-md-3 form-group">
                                    <mat-form-field appearance="fill" class="w-100">
                                        <mat-label>Material Quality</mat-label>
                                        <mat-select formControlName="materialQuality">
                                            <mat-option [value]="'0'">Scrap Material</mat-option>
                                            <mat-option [value]="'1'">Good Material</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>



                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary" style="margin-top: 2.5em;"
                                (click)="OnLoadForColonyIllegalSubmit()">Submit</button>
                        </div>
                    </div>
                </div>

            </form> -->
            <form [formGroup]="LoadConfirmationForColonyIllegalForm">
                <div class="container py-3">
                    <div class="row g-3">

                        <!-- Verified Load -->
                        <div class="col-md-4">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>उपमहाप्रबंधक द्वारा सत्यापित किया जाने वाला भार</mat-label>
                                <input matInput type="number" formControlName="loadConfirmationForColonyIllegal">
                                <mat-error
                                    *ngIf="(LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].touched || isFormSubmitForColonyIllegal) && LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].errors">
                                    <div
                                        *ngIf="LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal'].errors['required']">
                                        लोड(भार) अनुमति (digit only)
                                    </div>
                                    <div
                                        *ngIf="LoadConfirmationForColonyIllegalForm.controls['loadConfirmationForColonyIllegal']?.status === 'INVALID'">
                                        Invalid लोड(भार) अनुमति
                                        <div *ngIf="consumerApplicationDetail?.individualOrGroupId === 1">
                                            (Load must be ≤ 400 and > 0)
                                        </div>
                                    </div>
                                </mat-error>
                            </mat-form-field>
                        </div>

                        <!-- Load Unit (Readonly) -->
                        <div class="col-md-4">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>लोड इकाई (Load Unit)</mat-label>
                                <input matInput type="text" formControlName="jeLoadUnitNew" [readonly]="true">
                            </mat-form-field>
                        </div>

                        <!-- Material Quality -->
                        <div class="col-md-4" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Material Quality</mat-label>
                                <mat-select formControlName="materialQuality">
                                    <mat-option value="0">Scrap Material</mat-option>
                                    <mat-option value="1" *ngIf="consumerApplicationDetail?.schemeTypeId === 2">Good Material</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <!-- Submit Button -->
                        <div class="col-md-3 mt-3">
                            <button mat-raised-button color="primary" class="w-100"
                                (click)="OnLoadForColonyIllegalSubmit()">
                                Submit
                            </button>
                        </div>

                    </div>
                </div>
            </form>

            <br>
        </div>
    </div>

    <br>
    <section class="example-section" *ngIf="consumerApplicationDetail?.natureOfWorkTypeId!=5">
        <b style="font-size: 1.2em;">आवेदक द्वारा चुना हुआ आवेदक प्रकार " <span style="color: red; ">
                {{consumerApplicationDetail?.avedakKaPrakar}} </span> " है।</b>
        <br>
        <b style="font-size: 1.1em;"> यदि आपके अनुसार यह आवेदक "Gorvement" है, तो अपनी सहमति दीजिए।
            <!-- क्या आप इसे परिवर्तित करना चाहते हैं ? -->
            <!-- || आवेदक द्वारा चुना हुआ आवेदक का प्रकार "<span>{{consumerApplicationDetail?.avedakKaPrakar}}</span>" है -->
        </b>
        <span>
            <mat-radio-group aria-label="Select an option" (change)="onRadioButtonCredit($event)">
                <mat-radio-button value="Yes" class="mx-2" style="font-weight: 900;">Yes</mat-radio-button>
                <mat-radio-button value="No" style="font-weight: bold;">No</mat-radio-button>
            </mat-radio-group>
            <div *ngIf="radioButtonBoolean==true && aavedakKaPrakarConfirmationByDGM.isAvedakGovernmentERP=='No'"
                style="color: rgb(255, 2, 53);">
                आपके अनुसार आवेदक का प्रकार "Private" है और आप इसके लिए पूर्ण रूप से सहमत हैं। अब वापसी सामग्री की राशि
                डिमांड नोट में समायोजित होकर आएगी।
            </div>
        </span>
    </section>

    <br>


    <!-- //////////////////////////////mkmy** start ********************//////////////////////// -->
    <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==8">
        <div>
            <form [formGroup]="applicationServeyErpFgOfMkmy">
                <div class="form-group">
                    <!-- <label><strong>&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** डीसी इंचार्ज सर्वे करने और एस्टीमेट जनरेट
                            करने के
                            लिए निम्न प्रक्रिया का पालन करें। ****</strong></label>
                    <label>1. DC Incharge को जबलपुर डिस्कॉम द्वारा बनाए गए GIS Desktop Application (&nbsp; <span style="display: inline-block;
                        border-bottom: 1px solid blue;
                        color: blue;cursor: pointer;"> http://mpezgis.in/mpdiscom/login.php </span>&nbsp; )पर अपने
                        कर्मचारी क्रमांक से लॉगिन करके सर्वेयर का चयन करना होगा और उसका मोबाइल नंबर पंजियन करना होगा |
                        <br> 2. DC Incharge को समबन्धित कार्य का नाम दर्ज़ करके वृत्त ,संभाग और वितरण केंद्र का चयन करना
                        होगा
                        ,कार्य का सन्दर्भ दर्ज करने के उपरांत सर्वेयर को समबन्धित कार्य से जोड़ना होगा जिससे की सर्वेयर
                        द्वारा समबन्धित कार्य का GIS Mobile Applicatio द्वारा Pole by Pole सर्वे पूर्ण किया जा सके |
                        <br> 3. सर्वे पूर्ण करने के पश्चात सर्वेयर सर्वे को App के माध्यम से Complete घोषित करेगा। जिसके
                        फलस्वरूप वितरण केन्द्र प्रभारी को सर्वे Accept/Reject करने का विकल्प उपलब्ध होगा ।
                        <br> 4. इसके पश्चात GIS system में एस्टीमेट जनरेशन किया जावेगा और Unique SB Project ID प्राप्त
                        होगी
                        | एस्टीमेट सर्वे के अनुरूप पाने पर DC Incharge को GIS Estimate को "Push to ERP " करना होगा |
                        <br> 5.ERP में एस्टीमेट जनरेशन GIS सिस्टम की Unique SB Project ID से linked होगा और Approval ERP
                        के
                        DOP approval के अनुरूप होगा |
                        <br> 6. नीचे दिए गए स्थान पर ERP नम्बर डाले |</label> -->
                    <div>

                    </div>

                    <div class="col-md-9 erp-style">
                        डिमांड नोट जारी करने के लिए ERP एस्टीमेट नंबर दर्ज करे
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <mat-form-field class="half-width padding">
                            <mat-label>ERP Number............</mat-label>
                            <input matInput placeholder="ERP Number" formControlName="erpNo">
                            <mat-error></mat-error>
                        </mat-form-field>
                    </div>
                    <div align="center">
                        <button type="button" mat-raised-button color="primary" (click)="erpEstimatGenrateOfMkmy()">
                            खोजें............</button>
                    </div>
                </div>

            </form>

            <table class="demandApproveTable table table-bordered">

                <thead>

                    <tr>


                        <th>आवेदन क्रमांक</th>
                        <th>कुल प्राकलन राशि</th>
                        <th>म.प्र द्वारा दी गई अनुदान राशि(40%)</th>
                        <th>म.प्र विद्युत कंपनी द्वारा दी गई अनुदान राशि(10%)</th>
                        <th>सिक्योरिटी डिपाजिट </th>
                        <th>आवेदन शुल्क </th>
                        <th>उपभोक्ता द्वारा वहन की गई राशि (50%)</th>
                        <th>इ. आर. पी. नंबर </th>
                        <th>स्कीम कोड </th>


                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let item of erpEstimateDataForMkmyArray">


                        <td>{{item?.consumerApplicationNumber}}</td>
                        <td>{{item?.totalAmount}}</td>
                        <td>{{item?.govMafBill}}</td>
                        <td>{{item?.mpmkMafBill}}</td>
                        <td>{{item?.securityDeposit}}</td>
                        <td>{{item?.avedanShulk}}</td>
                        <td>{{item?.carryAmountByApplicant}}</td>
                        <td>{{item?.erpNumber}}</td>
                        <td>{{item?.schemeCode}}</td>

                    </tr>
                </tbody>



            </table>

        </div>

        <div>

            <form [formGroup]="mkmyValidatedFormForErpEstimate">


                <div class="form-group">

                    <div class="col-sm-4 my-2">
                        <input class="form-control" type="file" accept=" image/jpeg,application/pdf"
                            formControlName="estimateFile" id="formFileMultiple" (change)="onFileChangedMkmy($event)" />

                        <div>
                            <p style="font-size: 12px; font-weight: 800; color: black;">UPLOAD ERP ESTIMATE</p>
                        </div>

                        <div>

                            <p *ngIf=" mkmyFilesizeValidators" class="d-block"
                                style="color: red; font-size: 12px; float: left;font-weight: 800;text-align: -webkit-left;">
                                File must be less than 2 MB </p>

                            <br *ngIf=" mkmyFietypeValidators">
                            <p *ngIf=" mkmyFietypeValidators" class="d-block"
                                style="color: red; font-size: 12px; float: left;font-weight: 800;text-align: -webkit-left;">
                                upload only pdf files </p>
                        </div>



                    </div>

                    <label><input type="checkbox" formControlName="cb" (change)="checkboxMkmyChane($event)"> मैं
                        सत्यापित करता हूं कि मेरे निर्देशन में
                        कार्यस्थल
                        के सर्वेक्षण के दौरान किए गए सभी माप, गणना और विश्लेषण सही और सटीक रूप से किए गए है।मेरे ज्ञान
                        और
                        विशेषज्ञता के आधार पर प्राकलन सर्वे के अनुरूप और सटीक है एवं दर्ज ERP प्राकलन इसी आवेदन से
                        संबंधित
                        है। <span class="required">*</span></label>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="button" mat-raised-button color="primary"
                        [disabled]="mkmyerpConfirmationVariable==false?true:false"
                        (click)="mkmycheckBoxTureCompalsury()" [disabled]="mkmyValidatedBoolean==true?true:false">
                        Validated</button>

                </div>

            </form>
        </div>

    </div>
    <!-- //////////////////////////////mkmy***** end ******************/////////////////////// -->
    <div *ngIf="consumerApplicationDetail?.natureOfWorkTypeId!=8">

        <div>
            <form [formGroup]="applicationServeyErpFg">
                <div class="form-group">
                    <!-- <label><strong>&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** डीसी इंचार्ज सर्वे करने और एस्टीमेट जनरेट
                            करने के
                            लिए निम्न प्रक्रिया का पालन करें। ****</strong></label>
                    <label>1. DC Incharge को जबलपुर डिस्कॉम द्वारा बनाए गए GIS Desktop Application (&nbsp; <span style="display: inline-block;
                        border-bottom: 1px solid blue;
                        color: blue;cursor: pointer;"> http://mpezgis.in/mpdiscom/login.php </span>&nbsp; )पर अपने
                        कर्मचारी क्रमांक से लॉगिन करके सर्वेयर का चयन करना होगा और उसका मोबाइल नंबर पंजियन करना होगा |
                        <br> 2. DC Incharge को समबन्धित कार्य का नाम दर्ज़ करके वृत्त ,संभाग और वितरण केंद्र का चयन करना
                        होगा
                        ,कार्य का सन्दर्भ दर्ज करने के उपरांत सर्वेयर को समबन्धित कार्य से जोड़ना होगा जिससे की सर्वेयर
                        द्वारा समबन्धित कार्य का GIS Mobile Applicatio द्वारा Pole by Pole सर्वे पूर्ण किया जा सके |
                        <br> 3. सर्वे पूर्ण करने के पश्चात सर्वेयर सर्वे को App के माध्यम से Complete घोषित करेगा। जिसके
                        फलस्वरूप वितरण केन्द्र प्रभारी को सर्वे Accept/Reject करने का विकल्प उपलब्ध होगा ।
                        <br> 4. इसके पश्चात GIS system में एस्टीमेट जनरेशन किया जावेगा और Unique SB Project ID प्राप्त
                        होगी
                        | एस्टीमेट सर्वे के अनुरूप पाने पर DC Incharge को GIS Estimate को "Push to ERP " करना होगा |
                        <br> 5.ERP में एस्टीमेट जनरेशन GIS सिस्टम की Unique SB Project ID से linked होगा और Approval ERP
                        के
                        DOP approval के अनुरूप होगा |
                        <br> 6. नीचे दिए गए स्थान पर ERP नम्बर डाले |</label> -->

                    <div>
                    </div>
                    <div class="col-md-9 erp-style">
                        डिमांड नोट जारी करने के लिए ERP एस्टीमेट नंबर दर्ज करे
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <mat-form-field class="half-width padding">
                            <mat-label>ERP Number</mat-label>
                            <input matInput placeholder="ERP Number" formControlName="erpNo">
                            <mat-error></mat-error>
                        </mat-form-field>
                    </div>
                    <div align="center">
                        <button type="button" mat-raised-button color="primary" (click)="erpEstimatGenrate()" [disabled]="khojeButtonBoolean==true?true:false" >
                            खोजें</button>
                    </div>
                </div>

            </form>

            <table class="demandApproveTable table table-bordered">
                <thead>
                    <tr>

                        <th>ERP No.</th>
                        <th>Estimate sanction No.</th>
                        <th>Estimate name</th>
                        <th>Location</th>
                        <th>scheme</th>
                        <th>Supervision Amount</th>
                        <th>Estimate Amount</th>
                        <th>CGST@9%</th>
                        <th>SGST@9%</th>
                        <!-- <th *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==5">Meterial Item Cost</th> -->
                        <th>Estimate Status</th>
                        <th>approved By</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let item of EstimateAmount">
                        <td>{{item?.erpNo}}</td>
                        <td>{{item?.estimateSanctionNo}}</td>
                        <td>{{item?.estimateName}}</td>
                        <td>{{item?.location}}</td>
                        <td>{{item?.schema}}</td>
                        <td>{{item?.supervisionAmount}}</td>
                        <!-- <td>{{item?.estimateAmount}}</td> -->
                        <td>
                            <!-- <span *ngIf="item?.ESTIMATED_COST==null && item?.MINUS_COST==null">0</span> <span *ngIf="item?.ESTIMATED_COST==null && item?.MINUS_COST!=null">{{item?.MINUS_COST}}</span><span *ngIf="item?.ESTIMATED_COST!=null && item?.MINUS_COST==null">{{item?.ESTIMATED_COST}}</span><span *ngIf="item?.ESTIMATED_COST!=null && item?.MINUS_COST!=null"> {{(item?.ESTIMATED_COST+item?.MINUS_COST)}}</span> -->
                            <span *ngIf="consumerApplicationDetail?.schemeTypeId === 2">{{(item?.estimateAmount -
                                item?.minusCost)}}</span>
                            <span *ngIf="consumerApplicationDetail?.schemeTypeId === 1">{{item?.estimateAmount}}</span>
                            <!-- {{(item?.estimateAmount - item?.minusCost)}} -->
                        </td>
                        <!-- <td>{{(item.ESTIMATED_COST)}} AA {{(item.MINUS_COST)}}</td> -->
                        <td>{{item?.cgst}}</td>
                        <td>{{item?.sgst}}</td>
                        <!-- <td *ngIf="consumerApplicationDetail?.natureOfWorkTypeId==5">{{item?.oytMaterialTotalCostWithCsgstAndSgst}}</td> -->
                        <td>{{item?.estimateStatus}}</td>
                        <td>{{item?.approvedBy}}</td>
                    </tr>


                </tbody>



            </table>

        </div>

        <div>

            <form [formGroup]="applicationServeyCheckBoxFg">


                <div class="form-group">

                    <div class="col-sm-4 my-2">
                        <input class="form-control" type="file" accept=" image/jpeg,application/pdf"
                            formControlName="estimateFile" id="formFileMultiple" (change)="onFileChanged($event)" />

                        <div>
                            <p style="font-size: 12px; font-weight: 800; color: black;">UPLOAD ERP ESTIMATE</p>
                        </div>

                        <div>

                            <p *ngIf=" filesizeValidators" class="d-block"
                                style="color: red; font-size: 12px; float: left;font-weight: 800;text-align: -webkit-left;">
                                File must be less than 2 MB </p>

                            <br *ngIf=" fietypeValidators">
                            <p *ngIf=" fietypeValidators" class="d-block"
                                style="color: red; font-size: 12px; float: left;font-weight: 800;text-align: -webkit-left;">
                                upload only pdf files </p>
                        </div>



                    </div>

                    <label><input type="checkbox" formControlName="cb"> मैं सत्यापित करता हूं कि मेरे निर्देशन में
                        कार्यस्थल
                        के सर्वेक्षण के दौरान किए गए सभी माप, गणना और विश्लेषण सही और सटीक रूप से किए गए है।मेरे ज्ञान
                        और
                        विशेषज्ञता के आधार पर प्राकलन सर्वे के अनुरूप और सटीक है एवं दर्ज ERP प्राकलन इसी आवेदन से
                        संबंधित
                        है। <span class="required">*</span></label>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="button" mat-raised-button color="primary"
                        [disabled]="erpConfirmationVariable==false?true:false" (click)="checkBoxTureCompalsury()">
                        Validated</button>

                </div>

            </form>
        </div>



        <div class="card-body">
            <form [formGroup]="applicationServeyFg" (ngSubmit)="onSubmit()" autocomplete="off">
                <input type="hidden" formControlName="consumerApplicationId">
                <div class="survey-style">


                    <div class="col-md-9 erp-style">
                        प्राकलन की वर्तमान स्थिति (Work Flow) जानने के लिए ERP एस्टीमेट नंबर दर्ज करे |
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <mat-form-field class="half-width padding">
                            <mat-label>ERP Number</mat-label>
                            <input matInput placeholder="ERP Number" formControlName="erpEstimateNo">
                        </mat-form-field>
                    </div>
                    <div align="center">
                        <button type="submit" mat-raised-button color="primary">खोजें</button>
                    </div>

                </div>

            </form>

            <table class="demandApproveTable table table-bordered">
                <thead>
                    <tr>

                        <th class="custom-srno">User Id.</th>
                        <th class="custom-particulatr">Notification On Date</th>
                        <th class="custom-amount">Action Perfornmed Date</th>
                        <th> Status</th>
                        <th>Action Perfornmed</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let item of EstimateStatusList">
                        <td>{{item?.pendingOn}}</td>
                        <td>{{item?.notificationOnDate}}</td>
                        <td>{{item?.actionPerformedDate}}</td>
                        <td>{{item?.status}}</td>
                        <td>{{item?.actionPerformed}}</td>
                    </tr>

                </tbody>

            </table>

        </div>

    </div>

</mat-card>