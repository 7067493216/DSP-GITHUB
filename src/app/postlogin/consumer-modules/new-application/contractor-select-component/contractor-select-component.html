<mat-card class="contractor-card">
  <!-- Toolbar -->
  <mat-toolbar color="primary" class="toolbar">
    <span class="toolbar-title">Contractor Selection</span>
    <span class="spacer"></span>
    <button mat-icon-button class="close-btn" (click)="onClose()" tabIndex="-1">
      <mat-icon>clear</mat-icon>
    </button>
  </mat-toolbar>

  <form [formGroup]="newContractorCreationFg" (ngSubmit)="onSubmit()" autocomplete="off" class="form-container">

    <div class="row">
      <!-- Contractor Dropdown -->
      <div class="col-lg-6 col-md-12">
        <mat-form-field class="full-width">
          <mat-label>Select Contractor <span class="required">*</span></mat-label>
          <mat-select formControlName="userId" [(ngModel)]="userId"
            (selectionChange)="onChangeSelectedAmount($event)">
            
            <!-- Search box inside dropdown -->
            <div class="dropdown-search">
              <mat-form-field appearance="outline" class="w-100 search-box">
                <mat-icon matPrefix>search</mat-icon>
                <input matInput placeholder="Search Contractor..." formControlName="inputSearch"
                       (input)="lookup($event.target.value);" #inputFilter>
                <button mat-icon-button matSuffix type="button" (click)="clean(inputFilter)">
                  <mat-icon>clear</mat-icon>
                </button>
              </mat-form-field>
            </div>

            <!-- Options -->
            <mat-option value="">--Select Contractor Type, Bid Amount, Address--</mat-option>
            <mat-option *ngFor="let Contractorname of finalFilterSerch" [value]="Contractorname.value">
              {{Contractorname.text}}
            </mat-option>
          </mat-select>

          <mat-error *ngIf="newContractorCreationFg.controls.userId.hasError('required')">
            Please select Contractor
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Category -->
      <div class="col-lg-3 col-md-6">
        <mat-form-field class="full-width">
          <mat-label>Category</mat-label>
          <input matInput placeholder="Category" formControlName="category">
        </mat-form-field>
      </div>

      <!-- Registration Number -->
      <div class="col-lg-3 col-md-6">
        <mat-form-field class="full-width">
          <mat-label>Registration Number</mat-label>
          <input matInput placeholder="Registration Number" formControlName="registrationNumber">
        </mat-form-field>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="submit-btn-container">
      <button type="submit" mat-raised-button color="primary">Submit</button>
    </div>

  </form>
</mat-card>
